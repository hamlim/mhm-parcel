parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"KEqf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transform=void 0;var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),r=require("react"),n=o(r);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(o){var c=o({type:"@@INIT",payload:null})(void 0),f=(0,r.createContext)(c),s=function(r){function s(){var e,r,n;a(this,s);for(var i=arguments.length,f=Array(i),p=0;p<i;p++)f[p]=arguments[p];return r=n=u(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(f))),n.state=t({},c),n.dispatch=function(t){return n.setState(o(t),function(){n.props.onUpdate(n.state)})},u(n,r)}return i(s,n.default.Component),e(s,[{key:"render",value:function(){return n.default.createElement(f.Provider,{value:t({},this.state,{dispatch:this.dispatch})},this.props.children)}}]),s}();return s.defaultProps={onUpdate:function(){}},{Provider:s,Consumer:f.Consumer}};exports.default=c;var f=exports.transform=function(t){return function(e){return function(r){return t(r,e)}}};
},{"react":"1n8/"}],"boQp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),t=require("react"),r=u(t),o=require("./createStore"),n=u(o);function u(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(r){function o(){var e,t,r;i(this,o);for(var u=arguments.length,c=Array(u),s=0;s<u;s++)c[s]=arguments[s];return t=r=a(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(c))),r.state={store:(0,n.default)(r.props.reducer)},a(r,t)}return c(o,t.Component),e(o,[{key:"render",value:function(){return this.props.children({Provider:this.state.store.Provider,Consumer:this.state.store.Consumer})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{store:(0,n.default)(e.reducer)}}}]),o}();exports.default=s;
},{"react":"1n8/","./createStore":"KEqf"}],"/i98":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./createStore.js");Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return t(e).default}});var r=require("./component.js");function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"CreateStore",{enumerable:!0,get:function(){return t(r).default}}),Object.defineProperty(exports,"transform",{enumerable:!0,get:function(){return e.transform}});
},{"./createStore.js":"KEqf","./component.js":"boQp"}],"xApM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("react")),t=d(require("../components/container.js")),n=d(require("react-state-reducer")),r=d(require("react-emotion")),a=require("grid-emotion"),o=d(require("highlight.js")),l=d(require("../components/code.js")),u=d(require("@atlaskit/button")),c=require("recycles"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function d(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e){return h(e)||p(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function h(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function y(){var e=g(["\n  font-size: 1.3rem;\n  margin-bottom: 3rem;\n"]);return y=function(){return e},e}function E(){var e=g(["\n  margin: 1rem 0;\n"]);return E=function(){return e},e}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v=(0,r.default)("p")(E()),D=(0,r.default)("main")(y()),C={todos:[],text:"",counter:0},O="INC",x="DEC",T="ADD_TODO",w="UPDATE_INPUT",I="UPDATE_TODO",b="SET",P=function(e){var t=e.type,n=e.payload;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;switch(t){case b:return i({},e,n);case O:return i({},e,{counter:e.counter+1});case x:return i({},e,{counter:e.counter-1});case T:return i({},e,{text:"",todos:f(e.todos).concat([{id:e.todos.length,text:e.text,done:!1}])});case w:return i({},e,{text:n});case I:return i({},e,{todos:e.todos.map(function(e){return e.id===n?i({},e,{done:!e.done}):e})});default:return e}}},j=(0,n.default)(P),_=j.Provider,A=j.Consumer,k="MH-RSR",F=function(){return e.default.createElement(A,null,function(t){var n=t.dispatch;return e.default.createElement(c.ComponentDidMount,null,function(){var e=window.localStorage.getItem(k);e&&n({type:b,payload:JSON.parse(e)})})})},S=function(){return e.default.createElement(_,{onUpdate:function(e){window.localStorage.setItem(k,JSON.stringify(e))}},e.default.createElement(t.default,null,e.default.createElement(F,null),e.default.createElement(D,null,e.default.createElement("header",null,e.default.createElement("h2",null,e.default.createElement("code",null,"React-State-Reducer"))),e.default.createElement("section",null,e.default.createElement(v,null,"This is"," ",e.default.createElement("a",{href:"https://github.com/hamlim/react-state-reducer"},"React-State-Reducer"),", a simple React library for state management, built on the same patterns that Redux and other Flux libraries pioneered."),e.default.createElement("div",null,e.default.createElement(A,null,function(t){var n=t.dispatch,r=t.counter;return e.default.createElement(a.Flex,{justifyContent:"center",alignItems:"center",mt:"2rem"},e.default.createElement(a.Flex,{w:1/3,alignItems:"center",justifyContent:"center"},e.default.createElement(u.default,{appearance:"primary",onClick:function(e){return n({type:O})}},"Increment")),e.default.createElement(a.Flex,{w:1/3,alignItems:"center",justifyContent:"center"},r),e.default.createElement(a.Flex,{w:1/3,alignItems:"center",justifyContent:"center"},e.default.createElement(u.default,{appearance:"primary",onClick:function(e){return n({type:x})}},"Decrement")))})),e.default.createElement("div",null,e.default.createElement(v,null,"It allows you to manage how you both update and reconcile state changes by providing"," ",e.default.createElement("code",null,"<Provider>")," and"," ",e.default.createElement("code",null,"<Consumer>")," components. The consumer component provides a"," ",e.default.createElement("code",null,"dispatch")," function, along with all of the state spread down to the argument for the children function.")),e.default.createElement("div",null,e.default.createElement(A,null,function(t){var n=t.dispatch,r=t.todos,a=t.text;return e.default.createElement(e.Fragment,null,e.default.createElement("label",null,"Add a todo:",e.default.createElement("input",{value:a,onChange:function(e){return n({type:w,payload:e.target.value})},onKeyDown:function(e){"Enter"===e.key&&n({type:T})},placeholder:"Do the dishes"})),e.default.createElement("ul",null,r.map(function(t){return e.default.createElement("li",{key:t.id},t.done?e.default.createElement("s",null,t.text):t.text,e.default.createElement(u.default,{appearance:"link",onClick:function(e){return n({type:I,payload:t.id})}},"Mark as"," ",t.done?"incomplete":"complete"))})))}),e.default.createElement(v,null,"In fact this page is using the library to power not only the counter but also the todo application above!"),e.default.createElement(v,null,"And the best part of this is that they are using the same top level Provider, and two different Consumers!"),e.default.createElement(u.default,{appearance:"primary",onClick:function(e){window.localStorage.getItem(k)&&window.localStorage.setItem(k,"")}},"Clear out local storage"),e.default.createElement("details",null,e.default.createElement("summary",null,"Here is the code for this entire webpage:"),e.default.createElement("div",{className:"hljs"},e.default.createElement(l.default,{style:{maxWidth:"100%",overflow:"scroll"}},e.default.createElement("code",{dangerouslySetInnerHTML:{__html:o.default.highlight("jsx","import React, { Fragment } from 'react'\nimport createStore from 'react-state-reducer'\n\nconst INITIAL_STATE = {\n  todos: [],\n  text: '',\n  counter: 0,\n}\n\nconst INC = 'INC'\nconst DEC = 'DEC'\nconst ADD_TODO = 'ADD_TODO'\nconst UPDATE_INPUT = 'UPDATE_INPUT'\nconst UPDATE_TODO = 'UPDATE_TODO'\n\nconst reducer = ({ type, payload }) => (\n  state = INITIAL_STATE,\n) => {\n  switch (type) {\n    case INC: {\n      return {\n        ...state,\n        counter: state.counter + 1,\n      }\n    }\n    case DEC: {\n      return {\n        ...state,\n        counter: state.counter - 1,\n      }\n    }\n    case ADD_TODO: {\n      return {\n        ...state,\n        text: '',\n        todos: [\n          ...state.todos,\n          {\n            id: state.todos.length,\n            text: state.text,\n            done: false,\n          },\n        ],\n      }\n    }\n    case UPDATE_INPUT: {\n      return {\n        ...state,\n        text: payload,\n      }\n    }\n    case UPDATE_TODO: {\n      return {\n        ...state,\n        todos: state.todos.map(t => {\n          if (t.id === payload) {\n            return {\n              ...t,\n              done: !t.done,\n            }\n          } else {\n            return t\n          }\n        }),\n      }\n    }\n    default:\n      return state\n  }\n}\n\nconst { Provider, Consumer } = createStore(reducer)\n\nexport default () => (\n  <Provider>\n    <Container>\n      <Main>\n        <section>\n          <div>\n            <Consumer>\n              {({ dispatch, counter }) => (\n                <Flex\n                  justifyContent=\"center\"\n                  alignItems=\"center\"\n                  mt=\"2rem\"\n                >\n                  <Flex\n                    w={1 / 3}\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                  >\n                    <Button\n                      appearance=\"primary\"\n                      onClick={_ => dispatch({ type: INC })}\n                    >\n                      Increment\n                    </Button>\n                  </Flex>\n                  <Flex\n                    w={1 / 3}\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                  >\n                    {counter}\n                  </Flex>\n                  <Flex\n                    w={1 / 3}\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                  >\n                    <Button\n                      appearance=\"primary\"\n                      onClick={_ => dispatch({ type: DEC })}\n                    >\n                      Decrement\n                    </Button>\n                  </Flex>\n                </Flex>\n              )}\n            </Consumer>\n            <Consumer>\n              {({ dispatch, todos, text }) => (\n                <Fragment>\n                  <label>\n                    Add a todo:\n                    <input\n                      value={text}\n                      onChange={e =>\n                        dispatch({\n                          type: UPDATE_INPUT,\n                          payload: e.target.value,\n                        })\n                      }\n                      onKeyDown={e => {\n                        if (e.key === 'Enter') {\n                          dispatch({ type: ADD_TODO })\n                        }\n                      }}\n                      placeholder=\"Do the dishes\"\n                    />\n                  </label>\n                  <ul>\n                    {todos.map(todo => (\n                      <li key={todo.id}>\n                        {todo.done ? (\n                          <s>{todo.text}</s>\n                        ) : (\n                          todo.text\n                        )}\n                        <Button\n                          appearance=\"link\"\n                          onClick={_ =>\n                            dispatch({\n                              type: UPDATE_TODO,\n                              payload: todo.id,\n                            })\n                          }\n                        >\n                          Mark as{' '}\n                          {todo.done\n                            ? 'incomplete'\n                            : 'complete'}\n                        </Button>\n                      </li>\n                    ))}\n                  </ul>\n                </Fragment>\n              )}\n            </Consumer>\n          </div>\n        </section>\n      </Main>\n    </Container>\n  </Provider>\n)\n").value}}))))),e.default.createElement(v,null,"If you made it this far down, check out the project on"," ",e.default.createElement("a",{href:"https://github.com/hamlim/react-state-reducer"},"Github"),".")))))};exports.default=S;
},{"react":"1n8/","../components/container.js":"ODtL","react-state-reducer":"/i98","react-emotion":"ES27","grid-emotion":"TFcK","highlight.js":"u5NY","../components/code.js":"pr5u","@atlaskit/button":"+kmb","recycles":"fTxO"}]},{},[], null)
//# sourceMappingURL=/react-state-reducer.6f2ebaba.map