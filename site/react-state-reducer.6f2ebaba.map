{"version":3,"sources":["../node_modules/react-state-reducer/pkg/createStore.js","../node_modules/react-state-reducer/pkg/component.js","../node_modules/react-state-reducer/pkg/index.js","pages/react-state-reducer.js"],"names":["P","Main","INITIAL_STATE","todos","text","counter","INC","DEC","ADD_TODO","UPDATE_INPUT","UPDATE_TODO","SET","reducer","type","payload","state","id","length","done","map","t","Provider","Consumer","LOCAL","UpdateState","dispatch","synced","window","localStorage","getItem","JSON","parse","setItem","stringify","_","e","target","value","key","todo","maxWidth","overflow","__html","hljs","highlight"],"mappings":"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","file":"react-state-reducer.6f2ebaba.map","sourceRoot":"../src","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transform = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar createStore = function createStore(reducer) {\n  var initialState = reducer({\n    type: '@@INIT',\n    payload: null\n  })(undefined);\n  var ctx = (0, _react.createContext)(initialState);\n\n  var Provider = function (_React$Component) {\n    _inherits(Provider, _React$Component);\n\n    function Provider() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Provider);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Provider.__proto__ || Object.getPrototypeOf(Provider)).call.apply(_ref, [this].concat(args))), _this), _this.state = _extends({}, initialState), _this.dispatch = function (action) {\n        return _this.setState(reducer(action), function () {\n          _this.props.onUpdate(_this.state);\n        });\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Provider, [{\n      key: 'render',\n      value: function render() {\n        return _react2.default.createElement(\n          ctx.Provider,\n          {\n            value: _extends({}, this.state, {\n              dispatch: this.dispatch\n            })\n          },\n          this.props.children\n        );\n      }\n    }]);\n\n    return Provider;\n  }(_react2.default.Component);\n\n  Provider.defaultProps = {\n    onUpdate: function onUpdate() {}\n  };\n  return { Provider: Provider, Consumer: ctx.Consumer };\n};\n\nexports.default = createStore;\n\n/**\n * Helper to transform classic redux reducers to new format\n */\n\nvar transform = exports.transform = function transform(reducer) {\n  return function (action) {\n    return function (state) {\n      return reducer(state, action);\n    };\n  };\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _createStore = require('./createStore');\n\nvar _createStore2 = _interopRequireDefault(_createStore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CreateStore = function (_Component) {\n  _inherits(CreateStore, _Component);\n\n  function CreateStore() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, CreateStore);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = CreateStore.__proto__ || Object.getPrototypeOf(CreateStore)).call.apply(_ref, [this].concat(args))), _this), _this.state = { store: (0, _createStore2.default)(_this.props.reducer) }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(CreateStore, [{\n    key: 'render',\n    value: function render() {\n      return this.props.children({\n        Provider: this.state.store.Provider,\n        Consumer: this.state.store.Consumer\n      });\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      return {\n        store: (0, _createStore2.default)(nextProps.reducer)\n      };\n    }\n  }]);\n\n  return CreateStore;\n}(_react.Component);\n\nexports.default = CreateStore;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createStore = require('./createStore.js');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_createStore).default;\n  }\n});\n\nvar _component = require('./component.js');\n\nObject.defineProperty(exports, 'CreateStore', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_component).default;\n  }\n});\nObject.defineProperty(exports, 'transform', {\n  enumerable: true,\n  get: function get() {\n    return _createStore.transform;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","import React, { Fragment } from 'react'\nimport Container from '../components/container.js'\nimport createStore from 'react-state-reducer'\nimport styled from 'react-emotion'\nimport { Flex, Box } from 'grid-emotion'\nimport hljs from 'highlight.js'\nimport Code from '../components/code.js'\nimport Button from '@atlaskit/button'\nimport { ComponentDidMount } from 'recycles'\n\nconst P = styled('p')`\n  margin: 1rem 0;\n`\nconst Main = styled('main')`\n  font-size: 1.3rem;\n  margin-bottom: 3rem;\n`\n\nconst INITIAL_STATE = {\n  todos: [],\n  text: '',\n  counter: 0,\n}\n\nconst INC = 'INC'\nconst DEC = 'DEC'\nconst ADD_TODO = 'ADD_TODO'\nconst UPDATE_INPUT = 'UPDATE_INPUT'\nconst UPDATE_TODO = 'UPDATE_TODO'\n\nconst SET = 'SET'\n\nconst reducer = ({ type, payload }) => (\n  state = INITIAL_STATE,\n) => {\n  switch (type) {\n    case SET: {\n      return {\n        ...state,\n        ...payload,\n      }\n    }\n    case INC: {\n      return {\n        ...state,\n        counter: state.counter + 1,\n      }\n    }\n    case DEC: {\n      return {\n        ...state,\n        counter: state.counter - 1,\n      }\n    }\n    case ADD_TODO: {\n      return {\n        ...state,\n        text: '',\n        todos: [\n          ...state.todos,\n          {\n            id: state.todos.length,\n            text: state.text,\n            done: false,\n          },\n        ],\n      }\n    }\n    case UPDATE_INPUT: {\n      return {\n        ...state,\n        text: payload,\n      }\n    }\n    case UPDATE_TODO: {\n      return {\n        ...state,\n        todos: state.todos.map(t => {\n          if (t.id === payload) {\n            return {\n              ...t,\n              done: !t.done,\n            }\n          } else {\n            return t\n          }\n        }),\n      }\n    }\n    default:\n      return state\n  }\n}\n\nconst { Provider, Consumer } = createStore(reducer)\n\nconst LOCAL = 'MH-RSR'\n\nconst UpdateState = () => (\n  <Consumer>\n    {({ dispatch }) => (\n      <ComponentDidMount>\n        {() => {\n          let synced = window.localStorage.getItem(LOCAL)\n          if (synced) {\n            dispatch({\n              type: SET,\n              payload: JSON.parse(synced),\n            })\n          }\n        }}\n      </ComponentDidMount>\n    )}\n  </Consumer>\n)\n\nexport default () => (\n  <Provider\n    onUpdate={state => {\n      window.localStorage.setItem(\n        LOCAL,\n        JSON.stringify(state),\n      )\n    }}\n  >\n    <Container>\n      <UpdateState />\n      <Main>\n        <header>\n          <h2>\n            <code>React-State-Reducer</code>\n          </h2>\n        </header>\n        <section>\n          <P>\n            This is{' '}\n            <a href=\"https://github.com/hamlim/react-state-reducer\">\n              React-State-Reducer\n            </a>\n            , a simple React library for state management,\n            built on the same patterns that Redux and other\n            Flux libraries pioneered.\n          </P>\n          <div>\n            <Consumer>\n              {({ dispatch, counter }) => (\n                <Flex\n                  justifyContent=\"center\"\n                  alignItems=\"center\"\n                  mt=\"2rem\"\n                >\n                  <Flex\n                    w={1 / 3}\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                  >\n                    <Button\n                      appearance=\"primary\"\n                      onClick={_ => dispatch({ type: INC })}\n                    >\n                      Increment\n                    </Button>\n                  </Flex>\n                  <Flex\n                    w={1 / 3}\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                  >\n                    {counter}\n                  </Flex>\n                  <Flex\n                    w={1 / 3}\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                  >\n                    <Button\n                      appearance=\"primary\"\n                      onClick={_ => dispatch({ type: DEC })}\n                    >\n                      Decrement\n                    </Button>\n                  </Flex>\n                </Flex>\n              )}\n            </Consumer>\n          </div>\n          <div>\n            <P>\n              It allows you to manage how you both update\n              and reconcile state changes by providing{' '}\n              <code>{`<Provider>`}</code> and{' '}\n              <code>{`<Consumer>`}</code> components. The\n              consumer component provides a{' '}\n              <code>dispatch</code> function, along with all\n              of the state spread down to the argument for\n              the children function.\n            </P>\n          </div>\n          <div>\n            <Consumer>\n              {({ dispatch, todos, text }) => (\n                <Fragment>\n                  <label>\n                    Add a todo:\n                    <input\n                      value={text}\n                      onChange={e =>\n                        dispatch({\n                          type: UPDATE_INPUT,\n                          payload: e.target.value,\n                        })\n                      }\n                      onKeyDown={e => {\n                        if (e.key === 'Enter') {\n                          dispatch({ type: ADD_TODO })\n                        }\n                      }}\n                      placeholder=\"Do the dishes\"\n                    />\n                  </label>\n                  <ul>\n                    {todos.map(todo => (\n                      <li key={todo.id}>\n                        {todo.done ? (\n                          <s>{todo.text}</s>\n                        ) : (\n                          todo.text\n                        )}\n                        <Button\n                          appearance=\"link\"\n                          onClick={_ =>\n                            dispatch({\n                              type: UPDATE_TODO,\n                              payload: todo.id,\n                            })\n                          }\n                        >\n                          Mark as{' '}\n                          {todo.done\n                            ? 'incomplete'\n                            : 'complete'}\n                        </Button>\n                      </li>\n                    ))}\n                  </ul>\n                </Fragment>\n              )}\n            </Consumer>\n            <P>\n              In fact this page is using the library to\n              power not only the counter but also the todo\n              application above!\n            </P>\n            <P>\n              And the best part of this is that they are\n              using the same top level Provider, and two\n              different Consumers!\n            </P>\n            <Button\n              appearance=\"primary\"\n              onClick={_ => {\n                let synced = window.localStorage.getItem(\n                  LOCAL,\n                )\n                if (synced) {\n                  window.localStorage.setItem(LOCAL, '')\n                }\n              }}\n            >\n              Clear out local storage\n            </Button>\n            <details>\n              <summary>\n                Here is the code for this entire webpage:\n              </summary>\n              <div className=\"hljs\">\n                <Code\n                  style={{\n                    maxWidth: '100%',\n                    overflow: 'scroll',\n                  }}\n                >\n                  <code\n                    dangerouslySetInnerHTML={{\n                      __html: hljs.highlight(\n                        'jsx',\n                        `import React, { Fragment } from 'react'\nimport createStore from 'react-state-reducer'\n\nconst INITIAL_STATE = {\n  todos: [],\n  text: '',\n  counter: 0,\n}\n\nconst INC = 'INC'\nconst DEC = 'DEC'\nconst ADD_TODO = 'ADD_TODO'\nconst UPDATE_INPUT = 'UPDATE_INPUT'\nconst UPDATE_TODO = 'UPDATE_TODO'\n\nconst reducer = ({ type, payload }) => (\n  state = INITIAL_STATE,\n) => {\n  switch (type) {\n    case INC: {\n      return {\n        ...state,\n        counter: state.counter + 1,\n      }\n    }\n    case DEC: {\n      return {\n        ...state,\n        counter: state.counter - 1,\n      }\n    }\n    case ADD_TODO: {\n      return {\n        ...state,\n        text: '',\n        todos: [\n          ...state.todos,\n          {\n            id: state.todos.length,\n            text: state.text,\n            done: false,\n          },\n        ],\n      }\n    }\n    case UPDATE_INPUT: {\n      return {\n        ...state,\n        text: payload,\n      }\n    }\n    case UPDATE_TODO: {\n      return {\n        ...state,\n        todos: state.todos.map(t => {\n          if (t.id === payload) {\n            return {\n              ...t,\n              done: !t.done,\n            }\n          } else {\n            return t\n          }\n        }),\n      }\n    }\n    default:\n      return state\n  }\n}\n\nconst { Provider, Consumer } = createStore(reducer)\n\nexport default () => (\n  <Provider>\n    <Container>\n      <Main>\n        <section>\n          <div>\n            <Consumer>\n              {({ dispatch, counter }) => (\n                <Flex\n                  justifyContent=\"center\"\n                  alignItems=\"center\"\n                  mt=\"2rem\"\n                >\n                  <Flex\n                    w={1 / 3}\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                  >\n                    <Button\n                      appearance=\"primary\"\n                      onClick={_ => dispatch({ type: INC })}\n                    >\n                      Increment\n                    </Button>\n                  </Flex>\n                  <Flex\n                    w={1 / 3}\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                  >\n                    {counter}\n                  </Flex>\n                  <Flex\n                    w={1 / 3}\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                  >\n                    <Button\n                      appearance=\"primary\"\n                      onClick={_ => dispatch({ type: DEC })}\n                    >\n                      Decrement\n                    </Button>\n                  </Flex>\n                </Flex>\n              )}\n            </Consumer>\n            <Consumer>\n              {({ dispatch, todos, text }) => (\n                <Fragment>\n                  <label>\n                    Add a todo:\n                    <input\n                      value={text}\n                      onChange={e =>\n                        dispatch({\n                          type: UPDATE_INPUT,\n                          payload: e.target.value,\n                        })\n                      }\n                      onKeyDown={e => {\n                        if (e.key === 'Enter') {\n                          dispatch({ type: ADD_TODO })\n                        }\n                      }}\n                      placeholder=\"Do the dishes\"\n                    />\n                  </label>\n                  <ul>\n                    {todos.map(todo => (\n                      <li key={todo.id}>\n                        {todo.done ? (\n                          <s>{todo.text}</s>\n                        ) : (\n                          todo.text\n                        )}\n                        <Button\n                          appearance=\"link\"\n                          onClick={_ =>\n                            dispatch({\n                              type: UPDATE_TODO,\n                              payload: todo.id,\n                            })\n                          }\n                        >\n                          Mark as{' '}\n                          {todo.done\n                            ? 'incomplete'\n                            : 'complete'}\n                        </Button>\n                      </li>\n                    ))}\n                  </ul>\n                </Fragment>\n              )}\n            </Consumer>\n          </div>\n        </section>\n      </Main>\n    </Container>\n  </Provider>\n)\n`,\n                      ).value,\n                    }}\n                  />\n                </Code>\n              </div>\n            </details>\n          </div>\n          <P>\n            If you made it this far down, check out the\n            project on{' '}\n            <a href=\"https://github.com/hamlim/react-state-reducer\">\n              Github\n            </a>.\n          </P>\n        </section>\n      </Main>\n    </Container>\n  </Provider>\n)\n"]}